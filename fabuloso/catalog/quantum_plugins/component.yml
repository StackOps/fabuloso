name: quantum_plugins 
file: quantum_plugins.py
description: Operations over Quantum Plugins

Methods:
    - name: compile_datapath
      description:  Installs and compiles openvswitch datapath
    - name: install
      description: Install quantum plugins
      params: 
          - name: iface_ex
            description: Host interface
    - name: set_config_file
      description: Configure the quantum plugin
      params:
          - name: user
            description: Quantum User 
          - name: password
            description: Quantum Password
          - name: auth_protocol
            description: Authorization service (keystone) protocol
          - name: auth_host
            description: Authorization service (keystone) host
          - name: auth_port
            description: Authorization service (keystone) port value
    - name: configure_ovs_plugin_vlan
      description: Configure the vlan
      params:
          - name: iface_bridge
            description: interface bridge
          - name: br_postfix
            description: dunno
          - name: vlan_start
            description: first vlan tag
          - name: vlan_end
            description: last vlan tag
          - name: mysql_schema
            description: Quantum mysql schema name
          - name: mysql_quantum_username
            description: Quantum mysql user name
          - name: mysql_quantum_password
            description: Quantum mysql password
          - name: mysql_host
            description: Connection host.
            optional: True
          - name: mysql_port
            description: Connection port
            optional: True
    - name: configure_l3_agent
      description: Configures the router agent
      params:
          - name: user
            description: Quantum User 
          - name: password
            description: Quantum Password
          - name: auth_url
            description: Keystone authentication endpoint
          - name: management_ip
            description: Management ip
          - name: region
            description: Region where the service is available
    - name: configure_dhcp_agent
      description: Configure DHCP
    - name: start
      description: Starts the plugin
    - name: configure_external_network
      description: Configure External Network
      params:
          - name: floating_start
            description: First floating IP in Range
          - name: floating_end
            description: Last floating IP in Range
          - name: floating_gw
            description: Gateway of the floating IPs
          - name: floating_range
            description: Range of the floating network
          - name: admin_user
            description: OpenStack admin user
          - name: admin_tenant_name
            description: OpenStack tenant name
          - name: admin_pass
            description: OpenStack admin password
          - name: auth_url
            description: Keystone auth Url
    - name: add_route_to_quantum_host
      description: Add default gateway of private address to quantum host
      params:
          - name: private_range
            description: First floating IP in Range
          - name: quantum_host
            description: IP address of the Quantum host
    - name: configure_default_private_network
      description: Configure Private Network
      params:
          - name: private_range
            description: First floating IP in Range
          - name: private_gw
            description: Gateway of the floating IPs
          - name: admin_user
            description: OpenStack admin user
          - name: admin_tenant_name
            description: OpenStack tenant name
          - name: admin_pass
            description: OpenStack admin password
          - name: auth_url
            description: Keystone auth Url
     
Services:
    - name: install_and_configure
      methods:
          - compile_datapath
          - install
          - set_config_file
    - name: configure_ovs_plugin_vlan
      methods:
          - configure_ovs_plugin_vlan
    - name: configure_l3_and_dhcp
      methods:
          - configure_l3_agent
          - configure_dhcp_agent
    - name: start
      methods: 
          - start
    - name: configure_external_network
      methods:
          - configure_external_network
    - name: configure_default_private_network
      methods:
          - configure_default_private_network
    - name: add_route_to_quantum_host
      methods:
          - add_route_to_quantum_host
